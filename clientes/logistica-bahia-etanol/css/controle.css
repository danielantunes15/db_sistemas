/* css/controle.css */

.controle-view {
    padding: 24px;
    background-color: var(--bg-dark);
}

.controle-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-top: 5px; /* Garante que o header tenha um pequeno espaço no topo do container */
}

.controle-header h1 {
    font-size: 1.8rem;
    color: var(--text-primary);
    margin: 0; /* CORREÇÃO: Garante que TODAS as margens do H1 sejam zero para alinhamento perfeito */
}

.controle-dashboard-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 16px;
    margin-bottom: 32px;
}

.summary-card {
    background-color: var(--bg-light);
    border-radius: 12px;
    padding: 20px;
    border-bottom: 4px solid;
    transition: transform 0.2s ease;
}

.summary-card:hover {
    transform: translateY(-5px);
}

.summary-card-value {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-primary);
}

.summary-card-label {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-top: 5px;
}

/* Cores dos cards do dashboard */
.summary-indo_carregar { border-color: #2B6CB0; }
.summary-carregando { border-color: #D69E2E; }
.summary-retornando { border-color: #805AD5; }
.summary-patio_carregado { border-color: #D53F8C; }
.summary-patio_vazio { border-color: #A0AEC0; }
.summary-descarregando { border-color: #38A169; }
.summary-quebrado { border-color: var(--accent-danger); }
.summary-disponivel { border-color: var(--accent-primary); } /* Cor para o novo card de Disponíveis */
.summary-parado { border-color: #ED8936; } /* Cor para o card Parado (Laranja) */

/* --- NOVOS ESTILOS PARA CABEÇALHO DO GRUPO --- */
.frente-group-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 24px; /* Espaço acima do título */
    margin-bottom: 12px; /* Espaço entre o título e a grade */
    padding: 0 5px; /* Alinhamento leve com a grade */
}

.frente-group-header h2 {
    font-size: 1.5rem;
    color: var(--accent-primary);
    margin: 0;
}

.frente-group-truck-count {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
    background-color: var(--bg-light);
    padding: 8px 12px;
    border-radius: 6px;
    border: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    gap: 8px;
}

.frente-group-truck-count i {
    font-size: 1.3rem;
}
/* --- FIM NOVOS ESTILOS --- */


.controle-grid {
    display: grid;
    /* --- Mantém as 5 colunas --- */
    grid-template-columns: repeat(5, 1fr);
    gap: 16px; /* Diminuído o gap */
    /* --- MODIFICAÇÃO: Ajuste de margem --- */
    margin-bottom: 16px; 
    margin-top: 0;
}

/* NOVO: Estilo para estado vazio da grade */
.empty-state-frente-grid {
    grid-column: 1 / -1;
    text-align: center;
    padding: 40px 20px;
    color: var(--text-secondary);
    font-style: italic;
    background: rgba(45, 55, 72, 0.3);
    border-radius: 8px;
}


.frente-card {
    background-color: var(--bg-light);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.frente-header {
    background-color: #374151;
    /* --- MODIFICAÇÃO: Padding diminuído --- */
    padding: 12px;
    border-bottom: 1px solid var(--border-color);
}

.frente-header-main {
    display: flex;
    align-items: center;
    gap: 10px; /* Diminuído o gap */
    margin-bottom: 12px; /* Diminuído o margin-bottom */
}

.frente-header-main i { font-size: 20px; color: var(--accent-primary); } /* Diminuído o ícone */
/* --- MODIFICAÇÃO: Fonte diminuída --- */
.frente-header-main h3 { font-size: 1.0rem; color: var(--text-primary); margin: 0; }

.frente-fazenda-info { display: flex; justify-content: space-between; align-items: center; background-color: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px; }
.fazenda-display { display: flex; align-items: center; gap: 8px; }
.fazenda-display i { color: var(--text-secondary); }
.fazenda-nome { font-weight: 500; font-size: 0.85rem; } /* Diminuída a fonte */
.fazenda-codigo { font-size: 0.75rem; color: var(--text-secondary); background-color: var(--bg-dark); padding: 2px 8px; border-radius: 6px; }
.btn-alterar-fazenda { padding: 6px 12px; font-size: 0.8rem; background-color: var(--bg-light); }

.frente-body {
    /* --- MODIFICAÇÃO: Padding diminuído --- */
    padding: 12px;
    flex-grow: 1;
}

.frente-body h4 {
    font-size: 0.85rem; /* Diminuída a fonte */
    color: var(--text-secondary);
    margin-bottom: 10px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border-color);
}

.caminhoes-em-operacao-table {
    width: 100%;
    border-collapse: collapse;
}

.caminhoes-em-operacao-table th, .caminhoes-em-operacao-table td {
    /* --- MODIFICAÇÃO: Padding diminuído e remoção do nowrap --- */
    padding: 8px 5px;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

.caminhoes-em-operacao-table th {
    font-size: 0.75rem; /* Diminuída a fonte */
    color: var(--text-secondary);
    white-space: nowrap; /* Manter o cabeçalho sem quebra */
}

/* NOVO: Reduz fonte da célula da tabela */
.caminhoes-em-operacao-table td {
    font-size: 0.85rem;
}

/* --- NOVAS REGRAS DE LARGURA DE COLUNA --- */
.caminhoes-em-operacao-table th:nth-child(1),
.caminhoes-em-operacao-table td:nth-child(1) {
    width: 30%; /* Cód. */
}

.caminhoes-em-operacao-table th:nth-child(2),
.caminhoes-em-operacao-table td:nth-child(2) {
    width: 40%; /* Status */
    white-space: normal; /* Permite que o status quebre a linha */
}

.caminhoes-em-operacao-table th:nth-child(3),
.caminhoes-em-operacao-table td:nth-child(3) {
    width: 30%; /* Ações */
    text-align: center; /* Centraliza o botão */
}
/* --- FIM NOVAS REGRAS --- */

/* NOVO: Diminui o botão de Ações da tabela */
.caminhoes-em-operacao-table .btn-primary {
    font-size: 0.75rem !important;
    padding: 5px 8px !important;
}


/* --- ESTILOS ADICIONAIS PARA FRENTE --- */
.frente-status-badge {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    color: white;
}

.frente-status-actions {
    margin-bottom: 15px;
}

/* Status das Frentes */
.status-ativa { background-color: var(--accent-primary); } /* Verde */
.status-inativa { background-color: #718096; } /* Cinza */
.status-fazendo_cata { background-color: #D69E2E; } /* Amarelo */
/* --- FIM ESTILOS ADICIONAIS --- */


.caminhao-status-badge {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    color: white;
}

/* NOVO: Diminui o badge de status DENTRO da tabela */
.caminhoes-em-operacao-table .caminhao-status-badge {
    font-size: 0.7rem;
    padding: 3px 6px;
}


/* Cores dos status */
.status-indo_carregar { background-color: #2B6CB0; }
.status-carregando { background-color: #D69E2E; }
.status-retornando { background-color: #805AD5; }
.status-patio_carregado { background-color: #D53F8C; }
.status-patio_vazio { background-color: #A0AEC0; }
.status-descarregando { background-color: #38A169; }
.status-disponivel { background-color: #718096; }
.status-quebrado { background-color: var(--accent-danger); }
.status-parado { background-color: #ED8936; } /* Cor para o status Parado (Laranja) */


.historico-container { background-color: var(--bg-light); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; }
.historico-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
.historico-header h2 { font-size: 1.5rem; color: var(--text-primary); }

.data-table-modern { width: 100%; border-collapse: collapse; }
.data-table-modern th, .data-table-modern td { padding: 12px 16px; text-align: left; border-bottom: 1px solid var(--border-color); }
.data-table-modern th { color: var(--text-secondary); font-size: 0.8rem; text-transform: uppercase; }
.data-table-modern tbody tr:hover { background-color: rgba(74, 85, 104, 0.2); }

/* Estilos para o Modal de Ação */
.action-modal-form {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/* --- ESTILOS PARA FILA NO ESTACIONAMENTO (DRAG AND DROP) --- */

.fila-main-grid {
    display: grid;
    grid-template-columns: 350px 1fr; /* Lista de disponíveis e painéis de fila */
    gap: 24px;
    padding: 24px;
}

.fila-queues-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* 3 colunas responsivas */
    gap: 24px;
}

.fila-disponiveis-panel,
.fila-queue-panel {
    background-color: var(--bg-light);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    height: calc(100vh - 150px); /* Altura base para caber na tela */
    overflow: hidden;
}

.fila-disponiveis-panel h2,
.fila-queue-panel h2 {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--accent-primary);
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border-color);
}

.truck-list {
    flex-grow: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding-right: 5px; /* Espaço para a scrollbar */
}

.truck-card {
    background-color: var(--bg-dark);
    border: 1px solid var(--border-color);
    padding: 12px;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: grab; /* Mãozinha para indicar que é arrastável */
    transition: all 0.2s ease;
}

.truck-card.dragging {
    opacity: 0.5;
    transform: scale(0.98);
    border-color: var(--accent-primary);
    box-shadow: 0 5px 15px rgba(56, 161, 105, 0.3);
}

.truck-card.drag-placeholder {
    border: 2px dashed var(--accent-primary);
    background-color: rgba(56, 161, 105, 0.1);
    color: var(--accent-primary);
    text-align: center;
    font-weight: 600;
    line-height: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 60px;
    cursor: default;
}

.truck-cod {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
}

.truck-details {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    font-size: 0.8rem;
}

.truck-entry-time {
    color: var(--text-secondary);
    margin-top: 4px;
}

.drag-icon {
    font-size: 1.2rem;
    color: var(--border-color);
}

.queue-status-hint {
    font-size: 0.8rem;
    color: var(--text-secondary);
    margin-top: 10px;
    text-align: center;
    border-top: 1px dashed var(--border-color);
    padding-top: 10px;
}

.empty-state-list {
    text-align: center;
    padding: 40px 20px;
    color: var(--text-secondary);
}

.empty-state-list i {
    font-size: 2rem;
    margin-bottom: 10px;
    opacity: 0.5;
}

/* Responsividade */
@media (max-width: 1200px) {
    .fila-main-grid {
        grid-template-columns: 1fr;
    }
    
    .fila-queues-grid {
        grid-template-columns: repeat(2, 1fr); /* Volta para 2 colunas em telas menores */
    }

    .fila-disponiveis-panel,
    .fila-queue-panel {
        height: auto;
        min-height: 300px;
    }

    /* NOVO: Ajusta a grade de frentes para 3 colunas em telas médias */
    .controle-grid {
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }
}

@media (max-width: 900px) {
    .fila-queues-grid {
        grid-template-columns: 1fr; /* 1 coluna em mobile */
    }
    
    /* Regra para evitar que o header estoure em telas pequenas */
    .controle-view {
        padding: 16px; 
    }
    
    .controle-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }
    
    .controle-header h1 {
        font-size: 1.5rem; 
        margin: 0;
        width: 100%; 
    }

    /* NOVO: Ajusta a grade de frentes para 2 colunas */
    .controle-grid {
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }
}

/* NOVO: Ajusta a grade de frentes para 1 coluna em telas muito pequenas */
@media (max-width: 600px) {
    .controle-grid {
        grid-template-columns: 1fr;
    }
}


/* --- NOVOS ESTILOS PARA FILA DE DESCARGA (COLUNAS DINÂMICAS) --- */
.descarga-grid {
    display: grid;
    /* grid-template-columns é definido dinamicamente no JS */
    gap: 24px;
    margin-bottom: 32px;
}

.descarga-coluna {
    background-color: var(--bg-light);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 15px;
}

.descarga-frente-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--accent-primary);
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--accent-primary);
    text-align: center;
}

.descarga-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.descarga-card {
    background-color: var(--bg-dark);
    border: 1px solid var(--border-color);
    padding: 12px;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.2s ease;
    border-left: 5px solid var(--accent-primary);
}

.descarga-card:hover {
    background-color: #262c38; /* Fundo levemente mais escuro no hover */
    transform: translateY(-1px);
}

/* NOVO: Container para código e frente de origem */
.descarga-info-main {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.descarga-cod {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
}

/* NOVO: Estilo para o nome da Frente de Origem */
.descarga-frente-origem {
    font-size: 0.75rem; /* Menor que o código */
    color: var(--text-secondary);
    font-weight: 400;
}

.descarga-time {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.empty-state-descarga {
    text-align: center;
    padding: 50px 20px;
    color: var(--text-secondary);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.empty-state-descarga i {
    font-size: 3rem;
    margin-bottom: 15px;
    color: #718096;
}

/* Responsividade para colunas */
@media (max-width: 1400px) {
    /* Diminui o número de colunas se houver muitas */
    .descarga-grid {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
    }
}

@media (max-width: 900px) {
    .descarga-grid {
        grid-template-columns: 1fr !important;
    }
}